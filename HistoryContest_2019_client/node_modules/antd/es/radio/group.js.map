{"version":3,"sources":["radio/group.jsx"],"names":["React","PropTypes","classNames","shallowEqual","polyfill","Radio","ConfigConsumer","getCheckedValue","children","value","matched","Children","forEach","radio","props","checked","undefined","RadioGroup","onRadioChange","ev","lastValue","state","target","setState","onChange","renderGroup","getPrefixCls","customizePrefixCls","prefixCls","className","options","buttonStyle","groupPrefixCls","classString","size","length","map","option","index","disabled","label","style","onMouseEnter","onMouseLeave","id","defaultValue","checkedValue","radioGroup","name","nextProps","nextState","Component","defaultProps","childContextTypes","any"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport shallowEqual from 'shallowequal';\nimport { polyfill } from 'react-lifecycles-compat';\nimport Radio from './radio';\nimport { ConfigConsumer } from '../config-provider';\nfunction getCheckedValue(children) {\n    let value = null;\n    let matched = false;\n    React.Children.forEach(children, (radio) => {\n        if (radio && radio.props && radio.props.checked) {\n            value = radio.props.value;\n            matched = true;\n        }\n    });\n    return matched ? { value } : undefined;\n}\nclass RadioGroup extends React.Component {\n    constructor(props) {\n        super(props);\n        this.onRadioChange = (ev) => {\n            const lastValue = this.state.value;\n            const { value } = ev.target;\n            if (!('value' in this.props)) {\n                this.setState({\n                    value,\n                });\n            }\n            const onChange = this.props.onChange;\n            if (onChange && value !== lastValue) {\n                onChange(ev);\n            }\n        };\n        this.renderGroup = ({ getPrefixCls }) => {\n            const props = this.props;\n            const { prefixCls: customizePrefixCls, className = '', options, buttonStyle } = props;\n            const prefixCls = getPrefixCls('radio', customizePrefixCls);\n            const groupPrefixCls = `${prefixCls}-group`;\n            const classString = classNames(groupPrefixCls, `${groupPrefixCls}-${buttonStyle}`, {\n                [`${groupPrefixCls}-${props.size}`]: props.size,\n            }, className);\n            let children = props.children;\n            // 如果存在 options, 优先使用\n            if (options && options.length > 0) {\n                children = options.map((option, index) => {\n                    if (typeof option === 'string') {\n                        // 此处类型自动推导为 string\n                        return (<Radio key={index} prefixCls={prefixCls} disabled={this.props.disabled} value={option} checked={this.state.value === option}>\n              {option}\n            </Radio>);\n                    }\n                    else {\n                        // 此处类型自动推导为 { label: string value: string }\n                        return (<Radio key={index} prefixCls={prefixCls} disabled={option.disabled || this.props.disabled} value={option.value} checked={this.state.value === option.value}>\n              {option.label}\n            </Radio>);\n                    }\n                });\n            }\n            return (<div className={classString} style={props.style} onMouseEnter={props.onMouseEnter} onMouseLeave={props.onMouseLeave} id={props.id}>\n        {children}\n      </div>);\n        };\n        let value;\n        if ('value' in props) {\n            value = props.value;\n        }\n        else if ('defaultValue' in props) {\n            value = props.defaultValue;\n        }\n        else {\n            const checkedValue = getCheckedValue(props.children);\n            value = checkedValue && checkedValue.value;\n        }\n        this.state = {\n            value,\n        };\n    }\n    static getDerivedStateFromProps(nextProps) {\n        if ('value' in nextProps) {\n            return {\n                value: nextProps.value,\n            };\n        }\n        else {\n            const checkedValue = getCheckedValue(nextProps.children);\n            if (checkedValue) {\n                return {\n                    value: checkedValue.value,\n                };\n            }\n        }\n        return null;\n    }\n    getChildContext() {\n        return {\n            radioGroup: {\n                onChange: this.onRadioChange,\n                value: this.state.value,\n                disabled: this.props.disabled,\n                name: this.props.name,\n            },\n        };\n    }\n    shouldComponentUpdate(nextProps, nextState) {\n        return !shallowEqual(this.props, nextProps) || !shallowEqual(this.state, nextState);\n    }\n    render() {\n        return <ConfigConsumer>{this.renderGroup}</ConfigConsumer>;\n    }\n}\nRadioGroup.defaultProps = {\n    disabled: false,\n    buttonStyle: 'outline',\n};\nRadioGroup.childContextTypes = {\n    radioGroup: PropTypes.any,\n};\npolyfill(RadioGroup);\nexport default RadioGroup;\n"],"file":"group.js"}